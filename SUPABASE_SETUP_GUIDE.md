# Supabase æ•°æ®åº“è®¾ç½®æŒ‡å—

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

æ‚¨çš„åº”ç”¨å·²æˆåŠŸéƒ¨ç½²åˆ° Vercelï¼š
- **ç”Ÿäº§ç¯å¢ƒ URL**: https://jenrych-6jzhn0vh4-jianwei-chens-projects.vercel.app
- **æ£€æŸ¥é¡µé¢**: https://vercel.com/jianwei-chens-projects/jenrych-ai/4w3HA1Vu2sBKdme6mJdMmVGokqVK

## ğŸ”§ å·²ä¿®å¤çš„é—®é¢˜

### 1. AI å“åº”æ…¢é—®é¢˜ âœ…
- å¯ç”¨äº†æµå¼å“åº”ï¼Œæé«˜å“åº”é€Ÿåº¦
- ä¼˜åŒ–äº†è®°å¿†æ£€ç´¢å’Œè¯­ä¹‰æœç´¢é€»è¾‘
- å‡å°‘äº†ä¸å¿…è¦çš„æ•°æ®åº“æŸ¥è¯¢

### 2. å›¾æ ‡æ—‹è½¬åŠ¨ç”»é—®é¢˜ âœ…
- ä¿®å¤äº†åŠ è½½çŠ¶æ€æ˜¾ç¤º
- ä¼˜åŒ–äº†åŠ¨ç”»æ•ˆæœ
- æ”¹è¿›äº†ç”¨æˆ·åé¦ˆ

### 3. æ³¨å†Œå’Œç™»å½•é—®é¢˜ âœ…
- ä¿®å¤äº†æ•°æ®åº“è¿æ¥é—®é¢˜
- é…ç½®äº† Prisma å®¢æˆ·ç«¯
- ä¼˜åŒ–äº†è®¤è¯æµç¨‹

## ğŸ—„ï¸ Supabase æ•°æ®åº“é…ç½®

### æ­¥éª¤ 1: åˆ›å»º Supabase é¡¹ç›®
1. è®¿é—® [Supabase](https://supabase.com)
2. åˆ›å»ºæ–°é¡¹ç›®
3. è®°å½•é¡¹ç›® URL å’Œ API Key

### æ­¥éª¤ 2: è®¾ç½®ç¯å¢ƒå˜é‡
åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# Supabase é…ç½®
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
DATABASE_URL=your_supabase_database_url

# NextAuth é…ç½®
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=https://your-domain.vercel.app

# AI API é…ç½®
DEEPSEEK_API_KEY=your_deepseek_api_key
```

### æ­¥éª¤ 3: åˆå§‹åŒ–æ•°æ®åº“
è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ•°æ®åº“è¡¨ï¼š

```bash
# æ¨é€æ•°æ®åº“ schema
npx prisma db push

# æˆ–è€…ä½¿ç”¨è¿ç§»
npx prisma migrate dev --name init
```

### æ­¥éª¤ 4: éªŒè¯æ•°æ®åº“è¿æ¥
è®¿é—®ï¼š`https://your-domain.vercel.app/api/test-db`

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

### users è¡¨
- `id`: ç”¨æˆ·å”¯ä¸€æ ‡è¯†
- `email`: é‚®ç®±åœ°å€ï¼ˆå”¯ä¸€ï¼‰
- `password_hash`: å¯†ç å“ˆå¸Œ
- `name`: ç”¨æˆ·æ˜µç§°
- `image`: å¤´åƒURL
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

### conversations è¡¨
- `id`: å¯¹è¯å”¯ä¸€æ ‡è¯†
- `title`: å¯¹è¯æ ‡é¢˜
- `user_id`: ç”¨æˆ·IDï¼ˆå¤–é”®ï¼‰
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

### messages è¡¨
- `id`: æ¶ˆæ¯å”¯ä¸€æ ‡è¯†
- `conversation_id`: å¯¹è¯IDï¼ˆå¤–é”®ï¼‰
- `role`: æ¶ˆæ¯è§’è‰²ï¼ˆuser/assistantï¼‰
- `content`: æ¶ˆæ¯å†…å®¹
- `created_at`: åˆ›å»ºæ—¶é—´

### memories è¡¨
- `id`: è®°å¿†å”¯ä¸€æ ‡è¯†
- `user_id`: ç”¨æˆ·IDï¼ˆå¤–é”®ï¼‰
- `content`: è®°å¿†å†…å®¹
- `category`: è®°å¿†åˆ†ç±»
- `importance`: é‡è¦æ€§ï¼ˆ1-10ï¼‰
- `created_at`: åˆ›å»ºæ—¶é—´
- `updated_at`: æ›´æ–°æ—¶é—´

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç³»ç»Ÿ
- âœ… ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- âœ… ä¼šè¯ç®¡ç†
- âœ… å¯†ç åŠ å¯†å­˜å‚¨

### AI å¯¹è¯
- âœ… æµå¼å“åº”
- âœ… ä¸Šä¸‹æ–‡è®°å¿†
- âœ… å¤šæ¨¡æ€æ”¯æŒ
- âœ… è”ç½‘æœç´¢

### æ•°æ®æŒä¹…åŒ–
- âœ… å¯¹è¯å†å²ä¿å­˜
- âœ… ç”¨æˆ·è®°å¿†å­˜å‚¨
- âœ… å®æ—¶æ•°æ®åŒæ­¥

## ğŸ” æµ‹è¯•å»ºè®®

1. **æ³¨å†Œæµ‹è¯•**: å°è¯•æ³¨å†Œæ–°ç”¨æˆ·
2. **ç™»å½•æµ‹è¯•**: æµ‹è¯•ç”¨æˆ·ç™»å½•åŠŸèƒ½
3. **å¯¹è¯æµ‹è¯•**: å‘é€æ¶ˆæ¯å¹¶æ£€æŸ¥å“åº”é€Ÿåº¦
4. **æ•°æ®æŒä¹…åŒ–**: åˆ·æ–°é¡µé¢æ£€æŸ¥å¯¹è¯æ˜¯å¦ä¿å­˜

## ğŸ“ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿ Supabase é¡¹ç›®å·²æ­£ç¡®é…ç½®
2. æ£€æŸ¥æ‰€æœ‰ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®è®¾ç½®
3. å®šæœŸå¤‡ä»½æ•°æ®åº“æ•°æ®
4. ç›‘æ§åº”ç”¨æ€§èƒ½å’Œé”™è¯¯æ—¥å¿—

## ğŸ†˜ æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Vercel ç¯å¢ƒå˜é‡è®¾ç½®
2. Supabase æ•°æ®åº“è¿æ¥
3. API å¯†é’¥é…ç½®
4. ç½‘ç»œè¿æ¥çŠ¶æ€

---

ğŸ‰ **æ­å–œï¼æ‚¨çš„ AI èŠå¤©åº”ç”¨å·²æˆåŠŸéƒ¨ç½²å¹¶é…ç½®äº† Supabase æ•°æ®åº“ï¼**
